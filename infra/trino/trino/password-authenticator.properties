# password-authenticator.name=file
# file.password-file=/etc/trino/password.db

password-authenticator.name=ldap
ldap.url=ldap://openldap:389
ldap.allow-insecure=true
# ldap.ssl.truststore.path=/etc/trino/certificate.pem
# ldap.ssl.truststore.password=changeit
# ldap.ssl.keystore.path=/etc/trino/certificate.pem
# ldap.ssl.keystore.password=changeit

# Exemplo com Active Directory (LDAPS)
# ldap.user-bind-pattern=${USER}@corp.example.com

# Exemplo com LDAP tradicional (OpenLDAP)
ldap.user-bind-pattern=uid=${USER},ou=Users,dc=openldap

# Group-Based Authorization Restrict access by LDAP group membership:
ldap.user-base-dn=ou=Groups,dc=openldap

# Authorization using Trino LDAP service user
ldap.bind-dn=cn=admin,ou=Groups,dc=openldap
ldap.bind-password=rangerR0cks!

## Group authorization patterns
# ldap.group-auth-pattern=(&(objectClass=posixAccount)(sAMAccountName=${USER})(memberof=cn=admin,ou=People,dc=openldap)) # With Active Directory
ldap.group-auth-pattern=(&(objectClass=inetOrgPerson)(uid=${USER})(memberof=cn=admin,ou=Groups,dc=openldap)) # With OpenLDAP

## With OpenLDAP on complex group authorization search queries
# ldap.group-auth-pattern=(&(|(memberOf=cn=normal_group,dc=corp,dc=com)(memberOf=cn=another_group,dc=com))(objectClass=inetOrgPerson)(uid=${USER}))